<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: runtime/scripts/controls.js - Numbas API documentation</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>
	<div id="header">
		<span>This is the <a target="_blank" href="http://www.ncl.ac.uk/maths/numbas">Numbas</a> API Documentation</a>.</span>
		<span>The documentation for users is at <a href="http://numbas-editor.readthedocs.org">Read the Docs</a>.</span>
	</div>

	<div id="main">

		<h1 class="page-title">Source: runtime/scripts/controls.js</h1>

		


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
Copyright 2011-14 Newcastle University

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/


/** @file Wrappers for the various navigation actions the user can do.
 * 
 * The assumption is that these should only be called in response to some event the user triggers, by clicking or whatever.
 * 
 * Provides {@link Numbas.controls}
 */

Numbas.queueScript('controls',['base','schedule'],function() {

var job = Numbas.schedule.add;

/** @namespace Numbas.controls */

Numbas.controls = /** @lends Numbas.controls */ {

	/** Start the exam - triggered when user clicks "Start" button on frontpage 
	 * @see Numbas.Exam#begin
	 */
	beginExam: function()
	{
		job(Numbas.exam.begin,Numbas.exam);
	},

	/** Pause the exam
	 * @see Numbas.Exam#pause
	 */
	pauseExam: function()
	{
		job(Numbas.exam.pause,Numbas.exam);
	},

	/** Resume the paused exam
	 * @see Numbas.Exam#resume
	 */
	resumeExam: function()
	{
		job(Numbas.exam.resume,Numbas.exam);
	},

	/** (Try to) end the exam
	 * @see Numbas.Exam#tryEnd
	 */
	endExam: function()
	{
		job(function() {
			Numbas.exam.tryEnd();
		});
	},

	/** In an ended exam, go back from reviewing a question the results page */
	backToResults: function()
	{
		job(function() {
			Numbas.exam.showInfoPage('result');
		});
	},

	/** "Exit" the exam - really this just shows the "You can close the browser" page
	 * @see Numbas.Exam#exit
	 */
	exitExam: function()
	{
		job(Numbas.exam.exit,Numbas.exam);
	},

	/** Try to move to the next question
	 * @see Numbas.Exam#tryChangeQuestion
	 */
	nextQuestion: function( )
	{
		job(function() {
			Numbas.exam.tryChangeQuestion( Numbas.exam.currentQuestion.number+1 );
		});
	},

	/** Try to move to the previous question
	 * @see Numbas.Exam#tryChangeQuestion
	 */
	previousQuestion: function()
	{
		job(function() {
			Numbas.exam.tryChangeQuestion( Numbas.exam.currentQuestion.number-1 );
		});
	},

	/** Make a function which tries to jump to question N
	 * @param {number} n - number of the question to jump to
	 * @returns {function}
	 * @see Numbas.controls.jumpQuestion
	 */
	makeQuestionJumper: function(n) {
		return function() {
			Numbas.controls.jumpQuestion(n);
		}
	},

	/* Try to move directly to a particular question
	 * @param {number} jumpTo - number of the question to jump to
	 * @see Numbas.Exam#tryChangeQuestion
	 */
	jumpQuestion: function( jumpTo )
	{
		job(function() {
			if(jumpTo == Numbas.exam.currentQuestion.number)
				return;

			Numbas.exam.tryChangeQuestion( jumpTo );
		});
	},

	/** Regenerate the current question
	 * @see Numbas.Exam#regenQuestion
	 */
	regenQuestion: function() 
	{
		job(function() {
			Numbas.display.showConfirm(R('control.confirm regen'),
				function(){Numbas.exam.regenQuestion();}
			);
		});
	},

	/** Show the advice for the current question
	 * @see Numbas.Question#getAdvice
	 */
	getAdvice: function()
	{
		job(Numbas.exam.currentQuestion.getAdvice,Numbas.exam.currentQuestion);
	},

	/** Reveal the answers to the current question
	 * @see Numbas.Question#revealAnswer
	 */
	revealAnswer: function()
	{
		job(function() {
			Numbas.display.showConfirm(R('control.confirm reveal'),
				function(){ Numbas.exam.currentQuestion.revealAnswer(); }
			);
		});
	},

	/** Submit student's answers to all parts in the current question
	 * @see Numbas.Question#submit
	 */
	submitQuestion: function()
	{
		job(Numbas.exam.currentQuestion.submit,Numbas.exam.currentQuestion);
	},

	/** Call when the student has changed their answer to a part
	 * @param {Array} answerList - student's answer
	 * @param {partpath} - id of the part being answered
	 * @see Numbas.Question#doPart
	 */
	doPart: function( answerList, partRef )
	{
		job(function() {
			Numbas.exam.currentQuestion.doPart(answerList, partRef);
		});
	},

	/* Show steps for a question part
	 * @param {partpath} partRef - id of the part
	 * @see Numbas.parts.Part#showSteps
	 */
	showSteps: function( partRef )
	{
		job(function() {
			Numbas.exam.currentQuestion.getPart(partRef).showSteps();
		});
	},

	/** Hide the steps for a question part
	 * @param {partpath} partRef - id of the part
	 * @see Numbas.parts.Part#hideSteps
	 */
	hideSteps: function( partRef )
	{
		job(function() {
			Numbas.exam.currentQuestion.getPart(partRef).hideSteps();
		});
	}
};

});
</code></pre>
        </article>
    </section>




	</div>

	<nav class="main-nav">
		<h2><a href="index.html">Index</a></h2>





	<h3>Classes</h3>
	<ul>
	
		<li><a href="Numbas.display.ExamDisplay.html">ExamDisplay</a></li>
	
		<li><a href="Numbas.display.GapFillPartDisplay.html">GapFillPartDisplay</a></li>
	
		<li><a href="Numbas.display.InformationPartDisplay.html">InformationPartDisplay</a></li>
	
		<li><a href="Numbas.display.JMEPartDisplay.html">JMEPartDisplay</a></li>
	
		<li><a href="Numbas.display.MultipleResponsePartDisplay.html">MultipleResponsePartDisplay</a></li>
	
		<li><a href="Numbas.display.NumberEntryPartDisplay.html">NumberEntryPartDisplay</a></li>
	
		<li><a href="Numbas.display.PartDisplay.html">PartDisplay</a></li>
	
		<li><a href="Numbas.display.PatternMatchPartDisplay.html">PatternMatchPartDisplay</a></li>
	
		<li><a href="Numbas.display.QuestionDisplay.html">QuestionDisplay</a></li>
	
		<li><a href="Numbas.Error.html">Error</a></li>
	
		<li><a href="Numbas.Exam.html">Exam</a></li>
	
		<li><a href="Numbas.ExamEvent.html">ExamEvent</a></li>
	
		<li><a href="Numbas.jme.display.Rule.html">Rule</a></li>
	
		<li><a href="Numbas.jme.funcObj.html">funcObj</a></li>
	
		<li><a href="Numbas.jme.Ruleset.html">Ruleset</a></li>
	
		<li><a href="Numbas.jme.Scope.html">Scope</a></li>
	
		<li><a href="Numbas.jme.types.TBool.html">TBool</a></li>
	
		<li><a href="Numbas.jme.types.TFunc.html">TFunc</a></li>
	
		<li><a href="Numbas.jme.types.THTML.html">THTML</a></li>
	
		<li><a href="Numbas.jme.types.TList.html">TList</a></li>
	
		<li><a href="Numbas.jme.types.TMatrix.html">TMatrix</a></li>
	
		<li><a href="Numbas.jme.types.TName.html">TName</a></li>
	
		<li><a href="Numbas.jme.types.TNum.html">TNum</a></li>
	
		<li><a href="Numbas.jme.types.TOp.html">TOp</a></li>
	
		<li><a href="Numbas.jme.types.TPunc.html">TPunc</a></li>
	
		<li><a href="Numbas.jme.types.TRange.html">TRange</a></li>
	
		<li><a href="Numbas.jme.types.TString.html">TString</a></li>
	
		<li><a href="Numbas.jme.types.TVector.html">TVector</a></li>
	
		<li><a href="Numbas.parts.GapFillPart.html">GapFillPart</a></li>
	
		<li><a href="Numbas.parts.InformationPart.html">InformationPart</a></li>
	
		<li><a href="Numbas.parts.JMEPart.html">JMEPart</a></li>
	
		<li><a href="Numbas.parts.MultipleResponsePart.html">MultipleResponsePart</a></li>
	
		<li><a href="Numbas.parts.NumberEntryPart.html">NumberEntryPart</a></li>
	
		<li><a href="Numbas.parts.Part.html">Part</a></li>
	
		<li><a href="Numbas.parts.PatternMatchPart.html">PatternMatchPart</a></li>
	
		<li><a href="Numbas.Question.html">Question</a></li>
	
		<li><a href="Numbas.storage.BlankStorage.html">BlankStorage</a></li>
	
		<li><a href="Numbas.storage.SCORMStorage.html">SCORMStorage</a></li>
	
		<li><a href="RequireScript.html">RequireScript</a></li>
	
	</ul>





	<h3>Namespaces</h3>
	<ul>
	
		<li><a href="Numbas.html">Numbas</a></li>
	
		<li><a href="Numbas.controls.html">controls</a></li>
	
		<li><a href="Numbas.display.html">display</a></li>
	
		<li><a href="Numbas.jme.html">jme</a></li>
	
		<li><a href="Numbas.jme.display.html">display</a></li>
	
		<li><a href="Numbas.jme.types.html">types</a></li>
	
		<li><a href="Numbas.jme.variables.html">variables</a></li>
	
		<li><a href="Numbas.math.html">math</a></li>
	
		<li><a href="Numbas.matrixmath.html">matrixmath</a></li>
	
		<li><a href="Numbas.parts.html">parts</a></li>
	
		<li><a href="Numbas.schedule.html">schedule</a></li>
	
		<li><a href="Numbas.storage.html">storage</a></li>
	
		<li><a href="Numbas.timing.html">timing</a></li>
	
		<li><a href="Numbas.util.html">util</a></li>
	
		<li><a href="Numbas.vectormath.html">vectormath</a></li>
	
		<li><a href="Numbas.xml.html">xml</a></li>
	
	</ul>







	<h3><a href="global.html">Globals</a></h3>
	<ul>
	
		<li><a href="global.html#complex">complex</a></li>
	
		<li><a href="global.html#func_data">func_data</a></li>
	
		<li><a href="global.html#JME">JME</a></li>
	
		<li><a href="global.html#matrix">matrix</a></li>
	
		<li><a href="global.html#partpath">partpath</a></li>
	
		<li><a href="global.html#range">range</a></li>
	
		<li><a href="global.html#TeX">TeX</a></li>
	
		<li><a href="global.html#variable_data_dict">variable_data_dict</a></li>
	
		<li><a href="global.html#vector">vector</a></li>
	
	</ul>


	</nav>

	<br clear="both">

	<footer>
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Fri Jul 11 2014 09:29:04 GMT+0100 (BST)
	</footer>

	<script> prettyPrint(); </script>
	<script src="scripts/linenumber.js"> </script>
</body>
</html>
